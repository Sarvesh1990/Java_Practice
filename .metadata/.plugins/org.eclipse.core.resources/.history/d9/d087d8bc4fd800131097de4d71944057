import java.util.ArrayList;
import java.util.HashSet;
import java.util.LinkedList;
import java.util.Map;
import java.util.HashMap;
import java.util.Queue;
import java.util.Set;

public class Graph 
{
	Map<Integer, Set<Integer> > myMap;
	boolean isQueueInit = false;
	int[] myEdge = {-2, -1, -1, -1, -1, -1, -1};
	int[] myDist = {0, 0, 0, 0, 0, 0, 0};

	Graph(Map<Integer, Set<Integer>> map)
	{
		myMap=map;
	}
	void Insert(int a, int b)
	{
		if(myMap.get(a)==null)
		{
			Set <Integer> mySet= new HashSet<Integer>();
			mySet.add(b);		
			myMap.put(a, mySet);
		}
		else
		{
			myMap.get(a).add(b);
		}
		System.out.println("Set is " + myMap.get(0));
	}
	
	
	Queue<Integer> myQueue = new LinkedList <Integer>();
	void initializeQueue(int a)
	{
		myQueue.add(a);
	}
	
	void bfs (int a)
	{
		if(!isQueueInit)
		{
			initializeQueue(a);
			isQueueInit=true;
		}
		while(!myQueue.isEmpty())
		{
			System.out.println("Inside while for "+a);
			for(Integer myInt : myMap.get(a))
			{
				if(myEdge[myInt]>=0)
					continue;
				System.out.println("Adding " + myInt + " for "+ a);
				myQueue.add(myInt);
				myEdge[myInt]=a;
				myDist[myInt]=myDist[a]+1;
				System.out.println("Adding " + myInt);
			}
			System.out.println("Size of queue is "+ myQueue.size());
			myQueue.remove();
			if(!myQueue.isEmpty())
			{
				System.out.println("Now doing for " + myQueue.peek());
				bfs(myQueue.peek());
			}			
		}
		System.out.println("Path for 3 is " + myDist[3] + " and that for 4 is " + myDist[4] + " and that for 6 is " + myDist[6]);
		System.out.println("Edge for 5 is " + myEdge[5] + " and that for 4 is " + myEdge[4] + " and that for 0 is " + myEdge[0]);
	}
	
	void PathTo(int a)
	{
		while(myEdge[a]>=0)
		{
			System.out.println(myEdge[a]);
			PathTo(myEdge[a]);
		}
	}
}
